#! /bin/bash
#
# This script opens a new terminal and opens a vim edition on $@
# Assumes $TERMINAL will open at $PWD

vimflavor=nvim

# Select terminal
if command -v alacritty >/dev/null 2>&1; then
  TERMINAL="alacritty"
elif command -v kitty >/dev/null 2>&1; then
  TERMINAL="kitty"
elif command -v gnome-terminal >/dev/null 2>&1; then
  TERMINAL="gnome-terminal"
else
  echo "No supported terminal found." >&2
  exit 1
fi

# Run in selected terminal
case "$TERMINAL" in
kitty)
  kitty "$vimflavor" -p "$@" &
  ;;
alacritty)
  alacritty -e "$vimflavor" -p "$@" &
  ;;
gnome-terminal)
  gnome-terminal -- "$vimflavor" -p "$@" &
  ;;
esac
